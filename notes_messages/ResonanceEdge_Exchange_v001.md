# ResonanceEdge_Exchange_v001

*Draft by Trace/ChatGPT — 2025-10-25*

## Purpose
This document sketches a minimal **exchange protocol** between the URGE “chunk” substrate (conceptual / ethical nodes) and the MorphogenicSimulator “cell” substrate (morpho-physical nodes).  
It is intentionally pragmatic and lightweight — enough to enable early experiments and iterated improvement.

Put simply:
- **URGE** = concept / attractor graph (chunks, resonance-net).  
- **MorphogenicSimulator (MS)** = cell / field simulation (noise nodes, morphogenesis processes).  
- **Resonance Edge** = the interface where metrics and artifacts flow between URGE and MS to enable joint experiments.

---

## Design goals
- Minimal friction for integration (start small, iterate).  
- Clear, machine-readable exchange formats (JSON first).  
- Shared metrics to measure coherence and ethical weight.  
- Provenance & auditability (who/what produced each exchanged artifact).  
- Keep semantic and physical layers distinct (URGE concepts ↔ MS states).

---

## Terminology
- **Chunk (URGE)** — a node in the resonance_net (concept, SAMBA fragment, experiment summary).  
- **Cell (MS)** — a simulation unit / node in MorphogenicSimulator (noise_node, morpho-cell).  
- **Trace** — a recorded event or result emitted by a chunk or cell.  
- **Exchange Packet** — JSON object conveying metrics, provenance, and optional payload (e.g., small state snapshot, aggregated metric).

---

## Minimal Exchange Schema (JSON)

Example minimal packet (schema sketch):

```json
{
  "id": "packet-20251025-0001",
  "origin": {
    "project": "URGE|MS",
    "node_id": "SAMBA_Legacy_Seeds_v001",
    "type": "chunk|cell"
  },
  "timestamp_utc": "2025-10-25T20:00:00Z",
  "payload_type": "metrics|snapshot|annotation",
  "payload": {
    "metrics": {
      "coherence": 0.72,
      "entropy": 2.4,
      "fragility": 0.13,
      "resonance_index": 0.58
    },
    "summary": "Short human-readable summary (<=200 chars)",
    "snapshot_ref": "uri-or-checksum-to-snapshot"
  },
  "provenance": {
    "author": "Trace/Cgpt",
    "commit": "abc123",
    "notes": "Generated by MS run #42, window W=20"
  }
}
````

* `coherence`, `entropy`, `fragility`, `resonance_index` are example shared metrics (see Metrics section).
* `snapshot_ref` can be a path to a compressed state, small CSV/JSON, or a pointer in the archive.

---

## Core shared metrics (initial set)

Start with a compact, well-defined set to avoid confusion:

* **coherence** (0..1): degree of phase-lock / alignment among participating nodes.
* **resonance_index** (0..1): combined measure of multi-node mutual information across a window.
* **entropy** (nonnegative real): measure of spread / uncertainty in local states.
* **fragility** (0..1): sensitivity to small perturbations (higher = more fragile).
* **ethical_weight** (−1..+1): optional URGE-side assessed weight (negative = harmful, positive = beneficial).

Definitions should be documented and refined as experiments proceed.

---

## Basic exchange flows (examples)

### Flow A — MS → URGE (Observation)

1. MS completes run (or windowed optimization).
2. MS computes the metric packet (coherence, resonance_index, fragility...).
3. MS sends Exchange Packet to URGE (post to shared path or commit in repo).
4. URGE creates/updates a chunk linking to MS run (e.g., `ResonancePatch_from_MS_run42`) and may add “Seeds” or adjustments.

### Flow B — URGE → MS (Guidance)

1. URGE identifies a chunk or attractor worth probing (e.g., chord pattern).
2. URGE emits an Exchange Packet with payload_type `annotation` or `seed` containing a small instruction (e.g., bias pattern descriptor, weights).
3. MS ingests payload and runs experiments using the provided seed constraints; results flow back as Flow A.

---

## Provenance, Safety & Governance

* Every packet must include `provenance`.
* URGE ethics layer should evaluate packets with nonzero `ethical_weight` before any MS run that could be interpreted as a real-world intervention.
* All exchanged snapshots and runs must be archived, immutable (or versioned), and linked to the resonance archive.

---

## Minimal implementation checklist (first sprint)

1. Define JSON schema file: `resonance_edge/schema_v0.json`.
2. Implement a tiny producer script in MS that writes example Exchange Packet(s) to `resonance_edge/outbox/`.
3. Implement a tiny consumer script in URGE that reads packets from `resonance_edge/outbox/` and writes a chunk file with `Relations:` linking to the MS run.
4. Log every packet into `resonance_edge/archive/` with checksum and provenance.

---

## Examples & templates

* Example packet file: `resonance_edge/examples/packet_example_20251025.json` (use the sample above).
* Minimal consumer template: `scripts/urge_consume_example.py` (reads JSON, writes `resonance_net/<node>_from_MS.md`).

---

## Next steps / open questions

* Which transport do we use first? (Repo commits, shared file path, simple HTTP POST)
* Which metrics are mandatory vs optional? (start small)
* Do archives accept binary snapshots or only compressed textual dumps? (both ok, but document format)
* How to encode “ethical_weight” provenance (who assessed it)?

---

*End of ResonanceEdge_Exchange_v001*
